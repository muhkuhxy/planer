@import models.smt._
@import tags._
@import helper._

@(assignees: List[Assignee])

<!DOCTYPE html>
<html>
<head>
   <meta charset="utf-8">
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <meta name="viewport" content="width=device-width,initial-scale=1">
   <title>helfer</title>
   <link rel="stylesheet" href='@routes.Assets.at("stylesheets/style.css")'>
</head>
<body>
   @nav()

   <div class="container">

      <header class="row">
         <div class="col-xs-12">
            <h2>Freiwillige</h2>
         </div>
      </header>

      <div class="row">
         <div class="col-xs-12">
         <table class="table table-condensed helpers">
            <thead>
               <tr>
                  <th>Name</th>
                  <th>Email</th>
                  <th>Sicherheit</th>
                  <th>Mikro</th>
                  <th>Tonanlage</th>
                  <th class="text-center">Entfernen</th>
               </tr>
            </thead>
            <tbody>
               @template(assignee: Assignee = Assignee("", Set())) = {
               <tr class="helper">
                  <td class="name">@assignee.name</td>
                  <td class="email" contenteditable>@assignee.email.getOrElse("")</td>
                  @for(service <- List("sicherheit", "mikro", "tonanlage")) {
                  <td>
                     <input type="checkbox" data-service="@service"
                        @if(assignee.services.contains(service)) {
                        checked=""
                        }>
                  </td>
                  }
                  <td class="text-center">
                     <button class="btn btn-danger remove" type="button">
                        <i class="glyphicon glyphicon-remove"></i>
                     </button>
                  </td>
               </tr>
               }
               <template>
                  @template()
               </template>
            @for(assignee <- assignees) {
               @template(assignee)
            }
            </tbody>
            <tfoot>
               <tr>
                  <td class="add-helper">
                     <label>Hinzuf√ºgen <input type="text"></label>
                     <button class="btn btn-default"><span class="glyphicon glyphicon-plus-sign"></span></button></td>
                  <td></td>
                  <td></td>
                  <td></td>
                  <td></td>
                  <td></td>
               </tr>
            </tfoot>
         </table>
         </div>
      </div>

      <div class="row save">
         <div class="col-xs-12">
         </div>
         <div class="col-xs-12">
            <button id="save" class="btn btn-primary" type="button" data-target="@controllers.smt.routes.AssigneeController.save">Speichern</button>
            <div class="working hide">
               <span class="glyphicon glyphicon-repeat"></span>
            </div>
            <div class="save-ok hide">
               <span class="glyphicon glyphicon-ok-circle"></span>
            </div>
            <div class="error hide">
               <span class="glyphicon glyphicon-remove-circle"></span>
            </div>
         </div>
      </div>

   </div>

   <script src='@routes.Assets.at("main.js")' type="text/javascript"></script>
   <script>app.assignees.init()</script>

</body>
</html>
